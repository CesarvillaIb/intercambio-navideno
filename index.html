<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Intercambio Navide√±o Familiar 2025</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
      background: radial-gradient(circle at top, #ffffff 0, #ffe6ec 25%, #5b0b12 70%, #050816 100%);
      color: #1f2933;
      overflow: hidden;
    }

    /* Fondo nieve */
    .snow {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
    }

    .snow span {
      position: absolute;
      top: -10px;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.9);
      animation: fall linear infinite;
      opacity: 0.8;
    }

    @keyframes fall {
      0% { transform: translateY(-10px); }
      100% { transform: translateY(110vh); }
    }

    .card {
      position: relative;
      z-index: 1;
      background: rgba(255, 255, 255, 0.96);
      border-radius: 24px;
      padding: 22px 18px;
      max-width: 420px;
      width: 100%;
      box-shadow: 0 18px 45px rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(248, 250, 252, 0.95);
    }

    /* Borde brillo elegante */
    .card::before {
      content: "";
      position: absolute;
      inset: -2px;
      border-radius: 26px;
      padding: 1px;
      background: linear-gradient(135deg, rgba(239,68,68,0.7), rgba(34,197,94,0.7));
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      opacity: 0.75;
      pointer-events: none;
    }

    /* Santa Claus bailando */
    .santa-mini {
      position: absolute;
      top: -28px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 38px;
      z-index: 20;
      animation: danceSanta 1.6s infinite ease-in-out;
    }

    @keyframes danceSanta {
      0% { transform: translateX(-50%) rotate(-6deg); }
      50% { transform: translateX(-50%) rotate(6deg); }
      100% { transform: translateX(-50%) rotate(-6deg); }
    }

    .badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      font-size: 0.85rem;
      padding: 5px 14px;
      border-radius: 999px;
      background: linear-gradient(135deg, #b91c1c, #065f46);
      color: #fefce8;
      margin: 18px auto 12px;
    }

    h1 {
      font-size: 1.5rem;
      text-align: center;
      margin-bottom: 4px;
      color: #111827;
    }

    .tagline {
      font-size: 0.85rem;
      text-align: center;
      color: #6b7280;
      margin-bottom: 6px;
    }

    .price {
      font-size: 0.95rem;
      text-align: center;
      font-weight: 600;
      margin-bottom: 10px;
      color: #b91c1c;
    }

    .place {
      font-size: 0.82rem;
      text-align: center;
      margin-bottom: 16px;
      color: #374151;
      line-height: 1.4;
    }

    .place a {
      color: #16a34a;
      font-weight: 600;
      text-decoration: none;
    }

    .subtitle {
      font-size: 0.9rem;
      text-align: center;
      color: #4b5563;
      margin-bottom: 14px;
    }

    label {
      font-size: 0.85rem;
      margin-bottom: 6px;
      color: #111827;
    }

    select, button {
      width: 100%;
      padding: 12px 14px;
      border-radius: 999px;
      font-size: 1rem;
      outline: none;
    }

    select {
      background: #f9fafb;
      border: 1px solid #e5e7eb;
      margin-bottom: 14px;
    }

    button {
      background: linear-gradient(135deg, #b91c1c, #16a34a);
      color: white;
      border: none;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 8px 18px rgba(0,0,0,0.25);
      transition: 0.12s ease;
    }

    button:active {
      transform: scale(0.97);
    }

    .result {
      display: none;
      margin-top: 18px;
      padding: 14px;
      border-radius: 14px;
      background: #f1f5f9;
      border: 1px dashed #9ca3af;
      font-size: 0.95rem;
    }

    .note {
      font-size: 0.8rem;
      margin-top: 12px;
      text-align: center;
      color: #6b7280;
    }

    .footer {
      font-size: 0.7rem;
      text-align: center;
      margin-top: 18px;
      color: #9ca3af;
    }

    .creator {
      font-size: 0.7rem;
      text-align: center;
      margin-top: 4px;
      color: #7f8c9d;
    }

    @media (max-width: 600px) {
      .card { padding: 18px 14px; }
      h1 { font-size: 1.4rem; }
    }
  </style>
</head>

<body>
  <div class="snow" id="snow"></div>

  <div class="card">

    <div class="santa-mini">üéÖ</div>

    <div class="badge">üéÑ Intercambio Navide√±o 2025</div>

    <h1>Santa Secreto Familiar</h1>

    <p class="tagline">Familia Villa ¬∑ Unidos ¬∑ Tradici√≥n ¬∑ Buenos Momentos üéÅ</p>

    <p class="price">üí∞ Monto del intercambio: <strong>$500 MXN</strong></p>

    <p class="place">
      üìç <strong>Casa de Sergio Villa</strong><br>
      Calle Guam√∫chil #52 ¬∑ Colonia El Tizate ¬∑ Zapopan, Jalisco<br>
      üëâ <a href="https://maps.app.goo.gl/PkwVp3p2bp2CBwY8A" target="_blank">Ver ubicaci√≥n en Google Maps</a>
    </p>

    <p class="subtitle">Selecciona tu nombre para saber a qui√©n le vas a regalar.</p>

    <label for="nameSelect">¬øQui√©n eres?</label>
    <select id="nameSelect">
      <option value="">-- Selecciona tu nombre --</option>
    </select>

    <button id="drawBtn">Ver a qui√©n le regalo üéÅ</button>

    <div id="result" class="result"></div>
    <div id="error" class="error"></div>

    <p class="note">üí° Solo ver√°s tu propio resultado. No recargues para espiar üòú</p>

    <div class="footer">Intercambio navide√±o familiar ¬∑ 2025</div>
    <div class="creator">Creado por <strong>Paulo Cesar Villa Ibarra</strong></div>
  </div>

  <script>
    const PARTICIPANTS = [
      "Paulo Cesar",
      "Naydelin Fernanda",
      "Sergio Villa",
      "Julia Ibarra",
      "Daniel Villa",
      "Oscar Padilla",
      "Mayra Villa",
      "Leonardo Mat√≠as",
      "Papa Chava",
      "Mama Tere",
      "Tania Villa",
      "Novio de Tania Diego",
      "Mayte Villa",
      "Omar Grande",
      "Marichuy",
      "Omar Junior",
      "Fernanda Qui√±ones",
      "Beto El que me regalara su carro",
      "Brayan",
      "Novia de Brayan Valentina",
      "Salvador Villa",
      "Irene Salazar"
    ];

    const SEED = "intercambio-navideno-familiar-2025";

    function xmur3(str){let h=1779033703^str.length;for(let i=0;i<str.length;i++){h=Math.imul(h^str.charCodeAt(i),3432918353);h=(h<<13)|(h>>>19);}return function(){h=Math.imul(h^(h>>>16),2246822507);h=Math.imul(h^(h>>>13),3266489909);h^=h>>>16;return h>>>0;};}
    function mulberry32(a){return function(){let t=a+=0x6D2B79F5;t=Math.imul(t^(t>>>15),t|1);t=t^(t+Math.imul(t^(t>>>7),t|61));return((t^(t>>>14))>>>0)/4294967296;};}
    function seededShuffle(array,seed){const seedFn=xmur3(seed),rng=mulberry32(seedFn());const a=array.slice();for(let i=a.length-1;i>0;i--){const j=Math.floor(rng()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}
    function generateDerangement(names,seed,maxTries=1000){for(let k=0;k<maxTries;k++){const out=seededShuffle(names,seed+"#"+k);let ok=true;for(let i=0;i<names.length;i++){if(names[i]===out[i]){ok=false;break;}}if(ok)return out;}throw new Error("No se pudo generar sorteo v√°lido.");}
    function buildAssignmentMap(names,seed){const d=generateDerangement(names,seed);const m={};names.forEach((n,i)=>m[n]=d[i]);return m;}

    const nameSelect=document.getElementById("nameSelect");
    const btn=document.getElementById("drawBtn");
    const result=document.getElementById("result");

    let assignment={};

    function initSnow(){
      const flakes=60,snow=document.getElementById("snow");
      for(let i=0;i<flakes;i++){
        const s=document.createElement("span");
        const size=Math.random()*6+3;
        s.style.left=Math.random()*100+"vw";
        s.style.width=size+"px";
        s.style.height=size+"px";
        s.style.animationDuration=(Math.random()*10+8)+"s";
        s.style.animationDelay=(Math.random()*-20)+"s";
        snow.appendChild(s);
      }
    }

    function init(){
      PARTICIPANTS.forEach(n=>{
        const opt=document.createElement("option");
        opt.value=n; opt.textContent=n;
        nameSelect.appendChild(opt);
      });

      assignment=buildAssignmentMap(PARTICIPANTS,SEED);

      btn.addEventListener("click",()=>{
        const me=nameSelect.value;
        if(!me){ result.style.display="block"; result.innerHTML="‚ùó Selecciona tu nombre."; return;}
        const target=assignment[me];
        result.style.display="block";
        result.innerHTML=`üëã Hola, <strong>${me}</strong><br> T√∫ le vas a regalar a:<br> üéÅ <strong>${target}</strong>`;
      });

      initSnow();
    }

    init();
  </script>
</body>
</html>
